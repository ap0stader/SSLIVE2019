<!-- test.html -->
<!-- 经测试，test页面可以正常访问直播资源 -->

<html>

    <head>
        <meta charset="utf-8">
        <!-- 使IE在最高版本下渲染，国产浏览器用Chrome内核渲染 -->
        <meta name="renderer" content="webkit"/>  
        <meta name="force-rendering" content="webkit"/>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
        <!-- 适配DRP > 1的屏幕 -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
        <title>SSLIVE</title>
        <!-- 图标 -->
        <link rel="shortcut icon" href="src/img/sslive-rectangle-std.png" type="image/png">
        <!-- jQuery和Video.js使用CDN加载 -->
        <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
        <link href="https://cdn.bootcss.com/video.js/7.6.0/video-js.min.css" rel="stylesheet">
        <script src="https://cdn.bootcss.com/video.js/7.6.0/video.min.js"></script>
        <script src="https://cdn.bootcss.com/video.js/7.6.0/lang/zh-CN.js"></script>
        <script src="https://cdn.bootcss.com/flv.js/1.5.0/flv.min.js"></script>
        <!-- 暂时先不上百度分析 -->

    </head>

    <body>
        <p id="onclick">ONCLICK</p>
        <video id="video"></video>
    </body>
    <script>
        if(flvjs.isSupported()){
            var flvplayer = flvjs.createPlayer({
                type : 'flv',
                isLive : true,
                hasAudio: true,
                hasVideo: true,
                cors: true,
                url: "http://suit.ssersay.cn/SUIT/stream.flv"
            },{
                enableStashBuffer: true,
            });
            var flvElement = document.getElementById('video');
            flvplayer.attachMediaElement(flvElement);
            flvplayer.load();
        }else{
            $('#video').addClass("video-js vjs-big-play-centered");
            var hlsplayer = videojs('video', {
                liveui: true,
                controls: true,
                preload: 'auto',
            });
            hlsplayer.src("http://suit.ssersay.cn/SUIT/stream.m3u8");
        }

        $('#onclick').click(function(){
            flvplayer.play();
        });

    </script>
</html>
